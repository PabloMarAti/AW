module.exports = InicializarPartida;

var tab = require("Tablero");
var car =  require("Cartas");
var roltur = require("./RolTurno");

//Funcion que recoge la funcionalidad de inicializar tablero, cartas y dar roles y turnos a los jugadores
function InicializarPartida(partida, callback) {
    tab.InicializarTablero(partida, function (err){
        if(!err){
            car.InicializarCartas(partida, function (err){
                if(!err){
                    roltur(partida, function (err, resultado) {
                        if (!err) {
                            callback(null, resultado);
                        } else {
                            callback(err);
                        }
                    });
                } else {
                    callback(err);
                }
            });
        } else{
            callback(err);
        }
    });
}